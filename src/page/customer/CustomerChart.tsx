import { useEffect, useRef } from 'react';
import { Chart } from 'chart.js';

export const CustomerChartComponent = ({ labels, data }) => {
  const canvasRef = useRef(null);

  useEffect(() => {
    if (canvasRef.current) {
      const chart = new Chart(canvasRef.current, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: 'Quantity Sold',
            data: data,
          }],
        },
        options: {
          scales: {
            x: { type: 'time', title: { display: true, text: 'Date' } },
            y: { title: { display: true, text: 'Quantity Sold' } },
          },
        },
      });

      return () => chart.destroy(); // cleanup on component unmount
    }
  }, [labels, data]);

  return <canvas ref={canvasRef}></canvas>;
};
